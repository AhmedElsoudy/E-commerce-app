"use strict";(self.webpackChunkFreshcart=self.webpackChunkFreshcart||[]).push([[560],{6560:(O,d,l)=>{l.r(d),l.d(d,{RegisterComponent:()=>Q});var c=l(6814),s=l(95),e=l(4769),f=l(9410),h=l(1120);function v(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"name is required"),e.qZA())}function Z(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"name min length should be 3"),e.qZA())}function x(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"name max length should be 20"),e.qZA())}function T(r,i){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,v,2,0,"p",31),e.YNc(2,Z,2,0,"p",31),e.YNc(3,x,2,0,"p",31),e.qZA()),2&r){const o=e.oxw();let n,t,a;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("name"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("name"))?null:t.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(a=o.registerForm.get("name"))?null:a.getError("maxlength"))}}function b(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"email is required"),e.qZA())}function w(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"email is in valid"),e.qZA())}function A(r,i){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,b,2,0,"p",31),e.YNc(2,w,2,0,"p",31),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("email"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("email"))?null:t.getError("email"))}}function q(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"password is required"),e.qZA())}function C(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"password must start with upperCase then from 6 to 10"),e.qZA())}function I(r,i){if(1&r&&(e.TgZ(0,"div",33),e.YNc(1,q,2,0,"p",34),e.YNc(2,C,2,0,"p",34),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("password"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("password"))?null:t.getError("pattern"))}}function F(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"rePassword is required"),e.qZA())}function E(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"rePassword must start with upperCase then from 6 to 10"),e.qZA())}function R(r,i){if(1&r&&(e.TgZ(0,"div",33),e.YNc(1,F,2,0,"p",34),e.YNc(2,E,2,0,"p",34),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("rePassword"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("rePassword"))?null:t.getError("mismatch"))}}function U(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"phone is required"),e.qZA())}function P(r,i){1&r&&(e.TgZ(0,"p",32),e._uU(1,"accept only egypt phone numbers"),e.qZA())}function N(r,i){if(1&r&&(e.TgZ(0,"div",30),e.YNc(1,U,2,0,"p",34),e.YNc(2,P,2,0,"p",34),e.qZA()),2&r){const o=e.oxw();let n,t;e.xp6(1),e.Q6J("ngIf",null==(n=o.registerForm.get("phone"))?null:n.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=o.registerForm.get("phone"))?null:t.getError("pattern"))}}function J(r,i){1&r&&(e.TgZ(0,"span"),e._UZ(1,"i",35),e.qZA())}function Y(r,i){if(1&r){const o=e.EpF();e.TgZ(0,"p",36),e._uU(1),e.TgZ(2,"span",37),e.NdJ("click",function(){e.CHM(o);const t=e.oxw();return e.KtG(t.goLogin())}),e._uU(3,"?Login"),e.qZA()()}if(2&r){const o=e.oxw();e.xp6(1),e.hij("",o.msgError," ")}}let Q=(()=>{class r{constructor(o,n,t){this._AuthService=o,this._Router=n,this._FormBuilder=t,this.msgError="",this.isLoading=!1,this.registerForm=this._FormBuilder.group({name:["",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(20)]],email:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required,s.kI.pattern(/^[a-zA-Z0-9_@]{6,}$/)]],rePassword:[""],phone:["",[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}$/)]]},{validators:[this.confirmPassword]})}confirmPassword(o){const n=o.get("password"),t=o.get("rePassword");""==t?.value?t?.setErrors({required:!0}):n?.value!=t?.value&&t?.setErrors({mismatch:!0})}handleForm(){this.isLoading=!0,!0===this.registerForm.valid&&this._AuthService.register(this.registerForm.value).subscribe({next:n=>{console.log(n),"success"==n.message&&(this._Router.navigate(["/login"]),this.isLoading=!1)},error:n=>{console.log(n),this.isLoading=!1,this.msgError=n.error.message}})}goLogin(){this._Router.navigate(["/login"])}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(f.e),e.Y36(h.F0),e.Y36(s.qu))};static#r=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:40,vars:8,consts:[[1,"container"],[1,"my-4","w-75","mx-auto","shadow","rounded-4","bg-main-light","p-4"],[1,"fw-normal","fs-3"],[3,"formGroup","ngSubmit"],[1,"input-name","mb-2"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["inputName",""],["class","alert alert-danger w-50 mx-auto small text-center mt-1",4,"ngIf"],[1,"input-email","mb-2"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["inputEmail",""],["class","alert alert-danger  w-50 mx-auto small text-center mt-1",4,"ngIf"],[1,"input-password","mb-2"],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],["inputPassword",""],["class","alert alert-danger  w-75 mx-auto small text-center mt-1",4,"ngIf"],[1,"input-rePassword","mb-2"],["for","rePassword"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control"],["inputRePassword",""],[1,"input-phone","mb-2"],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],["inputPhone",""],[1,"main-btn","my-2","ms-auto","d-block"],[4,"ngIf"],["class","text-center text-danger pt-2",4,"ngIf"],[1,"alert","alert-danger","w-50","mx-auto","small","text-center","mt-1"],["class","mb-0 ",4,"ngIf"],[1,"mb-0"],[1,"alert","alert-danger","w-75","mx-auto","small","text-center","mt-1"],["class","mb-0",4,"ngIf"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"text-center","text-danger","pt-2"],[1,"text-main","cursor-pointer",3,"click"]],template:function(n,t){if(1&n&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h2",2),e._uU(4,"Register Now "),e.qZA(),e.TgZ(5,"form",3),e.NdJ("ngSubmit",function(){return t.handleForm()}),e.TgZ(6,"div",4)(7,"label",5),e._uU(8,"name:"),e.qZA(),e._UZ(9,"input",6,7),e.YNc(11,T,4,3,"div",8),e.qZA(),e.TgZ(12,"div",9)(13,"label",10),e._uU(14,"email:"),e.qZA(),e._UZ(15,"input",11,12),e.YNc(17,A,3,2,"div",13),e.qZA(),e.TgZ(18,"div",14)(19,"label",15),e._uU(20,"password:"),e.qZA(),e._UZ(21,"input",16,17),e.YNc(23,I,3,2,"div",18),e.qZA(),e.TgZ(24,"div",19)(25,"label",20),e._uU(26,"rePassword:"),e.qZA(),e._UZ(27,"input",21,22),e.YNc(29,R,3,2,"div",18),e.qZA(),e.TgZ(30,"div",23)(31,"label",24),e._uU(32,"phone:"),e.qZA(),e._UZ(33,"input",25,26),e.YNc(35,N,3,2,"div",13),e.qZA(),e.TgZ(36,"button",27),e.YNc(37,J,2,0,"span",28),e._uU(38," Register "),e.qZA(),e.YNc(39,Y,4,1,"p",29),e.qZA()()()()),2&n){const a=e.MAs(10),M=e.MAs(16),L=e.MAs(22),y=e.MAs(28),k=e.MAs(34);let m,p,g,_,u;e.xp6(5),e.Q6J("formGroup",t.registerForm),e.xp6(6),e.Q6J("ngIf",(null==(m=t.registerForm.get("name"))?null:m.errors)&&((null==(m=t.registerForm.get("name"))?null:m.touched)||a.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(p=t.registerForm.get("email"))?null:p.errors)&&((null==(p=t.registerForm.get("email"))?null:p.touched)||M.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(g=t.registerForm.get("password"))?null:g.errors)&&((null==(g=t.registerForm.get("password"))?null:g.touched)||L.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(_=t.registerForm.get("rePassword"))?null:_.errors)&&((null==(_=t.registerForm.get("rePassword"))?null:_.touched)||y.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(u=t.registerForm.get("phone"))?null:u.errors)&&((null==(u=t.registerForm.get("phone"))?null:u.touched)||k.value.length>0)),e.xp6(2),e.Q6J("ngIf",t.isLoading),e.xp6(2),e.Q6J("ngIf",t.msgError)}},dependencies:[c.ez,c.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".alert[_ngcontent-%COMP%]{--bs-alert-padding-x: 1rem;--bs-alert-padding-y: .15rem !important;--bs-alert-margin-bottom: 1rem;--bs-alert-border: var(--bs-border-width) solid var(--bs-alert-border-color);--bs-alert-border-radius: var(--bs-border-radius);--bs-alert-link-color: inherit;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]})}return r})()}}]);